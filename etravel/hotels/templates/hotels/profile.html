{% load static %}

<!DOCTYPE html>
{% load static %}
<html>
  <head>
    <title>E travel Website</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}" />

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/project2.css' %}"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/popup.css' %}"
    />

    <!-- commenting this out breaks main.css -->
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1" /> -->

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script type="text/javascript">
      var user = "{{request.user}}";
      function getToken(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== "") {
          const cookies = document.cookie.split(";");
          for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === name + "=") {
              cookieValue = decodeURIComponent(
                cookie.substring(name.length + 1)
              );
              break;
            }
          }
        }
        return cookieValue;
      }
      var csrftoken = getToken("csrftoken");
    </script>
  </head>
  <!-- <body style="background-color:hsl(0, 0%, 16%);"> -->

  <body>
    <!-- ========== NAVBAR Starts HERE ==========-->

    <nav
      id="navigationCustom"
      class="navbar navbar-expand-lg navbar-light bg-light"
      onmouseover="clearSearch()"
    >
      <a id="logo" class="navbar-brand" href="/">Getaway</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/hotels"
              >Hotels <span class="sr-only"></span
            ></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/flights">Flights</a>
          </li>
        </ul>

        <ul class="navbar-nav" id="link">
          <li class="nav-item">
            <a
              class="nav-link"
              style="text-decoration: none"
              href="{% url 'profile' %}"
              >Profile</a
            >
          </li>

          <li id="button-link" class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}">Sign Out</a>
          </li>
        </ul>
        <!-- form wrapper -->
      </div>
    </nav>

    <div class="d-flex justify-content-center" style="padding-top: 70px">
      <h2>User Profile <br /></h2>
    </div>

    <div class="d-flex justify-content-center"></div>

    <div class="container" style="padding-top: 50px">
      <div class="flightSearch">
        <ul class="responsive-table">
          <li class="table-header">
            <div class="col col-custom">Info</div>
            <div class="col col-custom">Details</div>
          </li>

          <li class="table-row">
            <div class="col col-custom" data-label="Flight Id">User ID</div>
            <div class="col col-custom" data-label="From">{{id}}</div>
          </li>

          <li class="table-row">
            <div
              style="text-transform: capitalize"
              class="col col-custom"
              data-label="Flight Id"
            >
              Username
            </div>
            <div class="col col-custom" data-label="From">{{user}}</div>
          </li>

          <li class="table-row">
            <div class="col col-custom" data-label="Flight Id">Name</div>
            <div class="col col-custom" data-label="From">{{name}}</div>
          </li>

          <li class="table-row">
            <div class="col col-custom" data-label="Flight Id">Address</div>
            <div class="col col-custom" data-label="From">
              <span id="editdiv"> Ashoka University, Sonipat, Haryana </span>
              <div>
                <button
                  value="edit"
                  id="editbutton"
                  onclick="edit()"
                  class="book_btn"
                >
                  Edit Address
                </button>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <div style="padding-bottom: 100px"></div>

    <div style="padding-top: 100px">
      <div class="footer">
        <p style="padding-top: 10px">
          Getaway - one place for all your travel needs.
        </p>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>

    <script type="text/javascript" src="{% static 'js/cart.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/wishlist.js' %}"></script>

    <script type="text/javascript" src="{% static 'js/filter.js' %}"></script>
  </body>
</html>

<script>
  function edit() {
    var text = document.getElementById("editdiv");
    var button = document.getElementById("editbutton");

    if (button.value == "edit") {
      button.value = "save";
      text.contentEditable = true;
      text.focus();
      text.style.backgroundColor = "#D3D3D3";
      text.style.border = "1px dotted black";
      button.innerHTML = "Save Address";
      text.innerHTML = "Please click here to add new address.";
    } else {
      button.value = "save";
      button.value = "edit";
      button.innerHTML = "Edit Addresss";
      text.contentEditable = false;
    }
  }
</script>
